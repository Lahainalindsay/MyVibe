<div align="center">

# ü™ô Vibe Project

ERC‚Äë20 token (VibeToken), ERC‚Äë721 NFT (WhatsYourVibeNFT, ticker VYX), and an on‚Äëchain SVG renderer (SigilArcanaOnChainRenderer) built with Hardhat. This repo includes contracts, a thorough test suite, and scripts to deploy and verify on Sepolia.

</div>

---

## Quick Start

1) Install prerequisites

```
node --version  # recommended: v18+
npm --version   # npm v9+
```

2) Clone and install

```
git clone https://github.com/Lahainalindsay/MyVibe.git
cd MyVibe
npm install
```

3) Create your environment file (for deployments and verification)

Create a `.env` in the project root and fill in the values you need. Example (edit with your own values):

```
# RPC + accounts
SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_KEY
PRIVATE_KEY=0xYOUR_PRIVATE_KEY

# Etherscan
ETHERSCAN_API_KEY=YOUR_ETHERSCAN_KEY

# Optional: used by scripts/verify.js when verifying on Etherscan
DAO_ADDRESS=0x...
STAKING_ADDRESS=0x...
FAIRLAUNCH_ADDRESS=0x...
INFLUENCER_ADDRESS=0x...
DEPLOYER_ADDRESS=0x...

# Filled after deployment if you want to verify
VIBE_ADDRESS=0x...
RENDERER_ADDRESS=0x...
VYX_ADDRESS=0x...   # WhatsYourVibeNFT address (ticker VYX)
NFT_OWNER_ADDRESS=0x...
```

4) Compile, test, deploy

```
npm run build           # compile contracts
npm test                # run tests on Hardhat Network
npm run deploy:local    # deploy to an in‚Äëprocess local Hardhat network

# When ready for testnet (requires .env)
npm run deploy:sepolia
npm run verify          # verify on Etherscan using addresses in .env
```

That‚Äôs it. You can now interact with the deployed contracts in Hardhat console or from your dapp.

---

## What‚Äôs Inside

Project is organized for clarity and testability:

- `contracts/`
  - `VibeToken.sol` ‚Äî ERC‚Äë20 with fees, reflections, blacklist, limits, and admin controls.
  - `WhatsYourVibeNFT.sol` ‚Äî ERC‚Äë721 with pre‚Äëreveal ‚Äúgift box‚Äù placeholder, configurable ETH/VIBE minting, and per‚Äëtoken arcana revealed via renderer.
  - `SigilArcanaOnChainRenderer.sol` ‚Äî pure on‚Äëchain SVG/JSON metadata renderer.
- `test/` ‚Äî Full Hardhat test suite (Mocha/Chai) covering behavior, admin, events, gas, fuzzing, and integration.
- `scripts/`
  - `deploy.js` ‚Äî Deploys VibeToken, Renderer, and SoulArcanaNFT, links them, and sets basic defaults.
  - `verify.js` ‚Äî Verifies deployed contracts on Etherscan using values from `.env`.
  - `check-coverage.js` ‚Äî Fails CI if coverage drops below thresholds.
- `hardhat.config.js` ‚Äî Solidity 0.8.x, networks, Etherscan, gas reporter.
- `coverage/` ‚Äî Coverage outputs generated by `npx hardhat coverage`.
- `.env` ‚Äî Local secrets and RPC URLs (never commit real keys).

---

## Scripts and Commands

All commands run from the repo root.

- Build/compile
  - `npm run build` ‚Äî Alias for `hardhat compile`.

- Test and coverage
  - `npm test` ‚Äî Run the entire test suite on Hardhat Network.
  - `npm run coverage` ‚Äî Generate a solidity‚Äëcoverage report in `coverage/`.
  - `npm run check:coverage` ‚Äî Enforce minimum coverage thresholds.
  - `npm run test:strict` ‚Äî Run a strict cooldown test file only.

- Deploy
  - `npm run deploy:local` ‚Äî Run `scripts/deploy.js` on an in‚Äëprocess Hardhat network.
  - `npm run deploy:sepolia` ‚Äî Deploy to Sepolia (requires `SEPOLIA_RPC_URL` and `PRIVATE_KEY`).

- Verify
  - `npm run verify` ‚Äî Verify contracts on Etherscan (requires `ETHERSCAN_API_KEY` and addresses in `.env`).

Pro tip: You can use `npx hardhat console` for interactive JS against the local network or pass `--network sepolia` to connect to Sepolia.

---

## Environment Variables

Required for Sepolia deploys and Etherscan verification:

- `SEPOLIA_RPC_URL` ‚Äî Your Sepolia RPC endpoint (Infura/Alchemy/etc.).
- `PRIVATE_KEY` ‚Äî Deployer‚Äôs private key for Sepolia (no 0x prefix is also accepted by Hardhat).
- `ETHERSCAN_API_KEY` ‚Äî API key for contract verification.

Used by `scripts/verify.js` (only when verifying):

- `DAO_ADDRESS`, `STAKING_ADDRESS`, `FAIRLAUNCH_ADDRESS`, `INFLUENCER_ADDRESS`, `DEPLOYER_ADDRESS` ‚Äî Constructor args for VibeToken verification.
- `VIBE_ADDRESS`, `RENDERER_ADDRESS`, `SOUL_ADDRESS`, `NFT_OWNER_ADDRESS` ‚Äî Contract addresses to verify and related constructor args.

Keep `.env` private and never commit real keys. Use placeholder values if you need to share configuration.

---

## Development Flow

1) Edit contracts in `contracts/` (one contract per file; PascalCase names).
2) Compile with `npm run build` and fix any warnings.
3) Run `npm test` and iterate on failures.
4) Check coverage with `npm run coverage` and `npm run check:coverage`.
5) Deploy locally with `npm run deploy:local` to exercise scripts end‚Äëto‚Äëend.
6) When satisfied, deploy to Sepolia and verify.

Coding style conventions:

- Solidity 0.8.x, 4‚Äëspace indent, `PascalCase` contracts/events, `camelCase` functions/vars.
- Order in contracts: state vars ‚Üí events ‚Üí errors ‚Üí modifiers ‚Üí constructor ‚Üí functions.
- JavaScript: 2‚Äëspace indent, `camelCase` for vars/functions, concise tests.
- Prefer NatSpec `///` for public Solidity APIs.

---

## Common Tasks

- Enable gas reporter: set `gasReporter.enabled = true` in `hardhat.config.js` (disabled by default), then run tests.
- Focus a test file: `npx hardhat test test/VibeToken.behavior.test.js`.
- Run a single test case: add `.only` to a `describe` or `it` while developing.
- Local console: `npx hardhat console` then interact with contracts using ethers v6.

---

## Frontend

- See `docs/AGENT_FRONTEND_PLAYBOOK.md` for a step‚Äëby‚Äëstep agent script to build and deploy a Next.js frontend (wallet connect, mint flows, gallery, admin ops) and to prepare social accounts and launch content.

---

## Troubleshooting

- Missing env vars: Sepolia deploys require `SEPOLIA_RPC_URL` and `PRIVATE_KEY`. Etherscan verification requires `ETHERSCAN_API_KEY` and constructor args.
- Etherscan verification fails: ensure you passed the exact constructor args and addresses. If you changed Solidity settings, re‚Äëcompile and try again.
- Network/rpc errors: check your RPC URL and that the account has test ETH on Sepolia.
- Coverage slow or flaky: run `npm test` first to isolate issues; then run `npm run coverage`.

---

## Security Notes

---

## Deployments

Track deployed addresses here for quick reference. Replace placeholders with your actual addresses after deployment.

- Sepolia
  - `VIBE_ADDRESS`: 0x65b3265Ae471c629C5482e517d4d31385Af337E7
  - `RENDERER_ADDRESS`: 0x6365219C4E37bbAeE8b566ABF0704b4034d20e66
- `VYX_ADDRESS` (WhatsYourVibeNFT with ticker VYX): 0x224A325adB0B1d5332fE88a035eEf1BCD8607Bfb

After deployment, update `.env` with these values so scripts like `npm run verify` and your tooling can reference them.

- Never commit secrets. Keep `.env` out of version control.
- Validate fee/limit settings before enabling trading on main networks.
- Review addresses passed to constructors carefully before deploying.

---

## License

MIT ‚Äî see SPDX identifiers in the Solidity sources.

---

## Acknowledgments

- Built with Hardhat, OpenZeppelin Contracts, and solidity‚Äëcoverage.
